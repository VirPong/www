<!DOCTYPE HTML>
<html>
<body>

<h1>Phone Login Page</h1>

<form id="loginform">
Username: <input type="TEXT" id="username" name="myName"  value=""/> <br/>
Password: <input type="password" id="password" name="myPhone"  value=""/> <br/>
<input type="Button" name="button1" value="Submit" onClick="login()">
</form>

<p id="error">
	Hello world
</p>

<script language="Javascript" type="text/javascript">
<!--

function login() {
    var xhr = new XMLHttpRequest();
	var username = document.getElementById("username").value;
	var password = document.getElementById("password").value;
    //xhr.open('get', 'http://192.168.0.102/database.php?username=' + username + "&password=" + password);
    xhr.open('get', 'http://cs340-serv/phonelogin.php?username=' + username + "&password=" + password);
    //assign a handler for the response
    xhr.onreadystatechange = function(){
    	//check if the response has been received from the server
    	if(xhr.readyState == 4){
      		//read and assign the response from the server
        	var response = xhr.responseText;
        	response = response.replace(/^\s+|\s+$/g, '');
        	if(response === "0"){
        		document.getElementById('error').innerHTML = "The username was incorrect.";
        	}
        
        	else if(response === "1"){
        		document.getElementById('error').innerHTML = "The password was incorrect.";
        	}
        
        	else if (response === "2"){
        		document.getElementById('loginform').innerHTML = "";
        		document.getElementById('error').innerHTML = '<b>You have successfully logged in!</b>';
        	}
       
    	}
    }
    //actually send the request to the server
    xhr.send(null);
}
    

-->
</script>


</body>
</html>