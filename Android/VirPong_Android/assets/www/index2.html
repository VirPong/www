<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>websocket-android-phonegap</title>
	<script type="text/javascript" charset="utf-8" src="js/phonegap.js"></script>
	<script type="text/javascript" charset="utf-8" src="js/websocket.js"></script>
  </head>
  <body>
  WebSocket test page!
  <pre>
[code]
// new socket
var socket = new WebSocket('http://10.150.1.204:3000/');

// push a message after the connection is established.
socket.onopen = function() {
socket.send('Hello World')
};

// alerts message pushed from server
socket.onmessage = function(msg) {
alert(JSON.stringify(msg));
};

// alert close event
socket.onclose = function() {
alert('closed');
};

[/code]
  </pre>
  </body>
  
<script type="text/javascript" charset="utf-8">
// new socket
var socket = new WebSocket('ws://10.150.1.204:3000/');

// push a message after the connection is established.
socket.onopen = function() {
socket.send('Hello World')
};

// alerts message pushed from server
socket.onmessage = function(msg) {
alert(JSON.stringify(msg));
};

// alert close event
socket.onclose = function() {
alert('closed');
};

// now, close the connection after 10 secons. (funny!)
/* setInterval(function() {
socket.close();
}, 10000); */
</script>
  
</html>

